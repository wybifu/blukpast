#include <stdlib.h>
#include <stdio.h>

/*Copyright*/
/*
 * AUTHOR: lilington
 * addr	: lilington@yahoo.fr
 *
 */

#include "include/helper.h"
#include "include/macro.h"

/**************************************************************************
*	Defines & Maro
**************************************************************************/

/**************************************************************************
*	Structs, Enum, Unio and Typesdef	
**************************************************************************/

/**************************************************************************
*	Globals	
**************************************************************************/

/***************************************************************************
*	Prototypes 	
**************************************************************************/

/**************************************************************************
*	Main	
**************************************************************************/



/**************************************************************************
*	Implementations	
**************************************************************************/

char * hp_load_txtfile(const char * path)
{
	FILE *inf = NULL;
	size_t s_file,
		   val;
	char *str = NULL;

	inf = fopen(path,"rb");
	if(inf==NULL)
		return str;

	fseek(inf,0,SEEK_END);
	s_file = ftell(inf);

	ALLOC(char,str,(s_file+1));

	fseek(inf,0,SEEK_SET);
	val=fread(str,s_file,sizeof(char),inf);
	if((val<1)&&(ferror(inf)!=0))
	{
		fprintf(stderr,"I/O error in %s %d\n",__func__,__LINE__-3);
		free(str);
		return NULL;
	}
	fclose(inf);

	str[s_file]='\0';

	return str;
}

/*--------------------------------------------------------------------------------*/
/*--------------------------------------------------------------------------------*/
/*--------------------------------------------------------------------------------*/
/*--------------------------------------------------------------------------------*/
/*--------------------------------------------------------------------------------*/

/******************** static functions ********************************/

/*--------------------------------------------------------------------------------*/
/*--------------------------------------------------------------------------------*/
/*--------------------------------------------------------------------------------*/
/*--------------------------------------------------------------------------------*/
/*--------------------------------------------------------------------------------*/

